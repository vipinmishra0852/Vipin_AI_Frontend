(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();const p="/assets/bot-7be685d2.svg",v="/assets/user-792a8b2c.svg",c=document.querySelector("form"),i=document.querySelector("#chat_container"),m=document.getElementById("theme-toggle");let d;function w(e){e.textContent="",d=setInterval(()=>{e.textContent+=".",e.textContent==="...."&&(e.textContent="")},300)}function y(e,o){let n=0,s=setInterval(()=>{n<o.length?(e.innerHTML+=o.charAt(n),n++):clearInterval(s)},20)}function k(){const e=Date.now(),n=Math.random().toString(16);return`id-${e}-${n}`}function u(e,o,n){return`
    <div class="wrapper ${e?"ai":"user"} flex ${e?"justify-start":"justify-end"} mb-4 animate-fade-in">
      <div class="chat flex items-end ${e?"flex-row":"flex-row-reverse"} max-w-[80%]">
        <div class="profile w-10 h-10 rounded-full ${e?"mr-3":"ml-3"}">
          <img src="${e?p:v}" alt="${e?"bot":"user"}" class="w-full h-full object-contain" />
        </div>
        <div class="message p-4 rounded-lg ${e?"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white":"bg-blue-500 text-white"} shadow-md" id=${n}>${o}</div>
      </div>
    </div>
  `}const f=async e=>{e.preventDefault();const n=new FormData(c).get("prompt").trim();if(!n)return;i.innerHTML+=u(!1,n),c.reset();const s=k();i.innerHTML+=u(!0," ",s),i.scrollTop=i.scrollHeight;const t=document.getElementById(s);w(t);try{const r=await fetch("https://vipin-ai-backend.onrender.com",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n})});if(clearInterval(d),t.innerHTML="",r.ok){const g=(await r.json()).bot.trim();y(t,g)}else{const a=await r.text();t.innerHTML="Something went wrong",console.error(a)}}catch(r){clearInterval(d),t.innerHTML="An error occurred. Please try again.",console.error(r)}};c.addEventListener("submit",f);c.addEventListener("keyup",e=>{e.keyCode===13&&!e.shiftKey&&f(e)});const l=document.documentElement;function h(e){e?(l.classList.add("dark"),localStorage.setItem("theme","dark")):(l.classList.remove("dark"),localStorage.setItem("theme","light")),console.log("HTML classes:",l.classList),x(e)}function x(e){m.innerHTML=e?'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>':'<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>'}m.addEventListener("click",()=>{const e=!l.classList.contains("dark");h(e)});const b=localStorage.getItem("theme")==="dark"||!localStorage.getItem("theme")&&window.matchMedia("(prefers-color-scheme: dark)").matches;h(b);const L=document.querySelector("textarea");L.addEventListener("input",function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"});
